#
# Configuration is very miniscule but it does the job both for faint tty sessions and in interactive colored terminal
# emulators. If Powerlevel10k is available it is sourced. If not fallback prompt is available.
#
# Author: Mikael Henriksson (www.github.com/miklhh)
#


# Alias Vim -> NeoVim
command -v "nvim" 1>/dev/null 2>&1 && alias vim='nvim' || echo "[ .zsh-alias:${LINENO} ]: Warning: 'nvim' not in \${PATH}"

# Settings for ls
if [ $(uname -s) = "Darwin" ]
then
    # MacOS machine with FreeBSD ls
    alias ls='ls -G'
else
    # Any other machine (probably Linux).
    alias ls='ls --color=auto --group-directories-first'
fi
alias ll='ls -l'

# Fast Tmux pane relative directory changes. Example: when in Tmux use 'cdl' in any pane to change directory to the
# pane located left of the active pane.
alias cdl='cd $(tmux display-message -p -F "#{pane_current_path}" -t "{left-of}"  || echo ".")'
alias cdr='cd $(tmux display-message -p -F "#{pane_current_path}" -t "{right-of}" || ehco ".")'
alias cdu='cd $(tmux display-message -p -F "#{pane_current_path}" -t "{up-of}"    || echo ".")'
alias cdd='cd $(tmux display-message -p -F "#{pane_current_path}" -t "{down-of}"  || echo ".")'

# Change directory fzf style (command: cf)
if command -v fzf 1>/dev/null 2>&1; then
    alias fzf_cf_command='fzf --height=15'
    if command -v bfs 1>/dev/null 2>&1; then
        alias cf='cd $(bfs . -type d -exclude -name .git 2>/dev/null | sed "s/\.\///g" | fzf_cf_command || echo .)'
    else
        echo "[ .zsh-alias:${LINENO} ]: Warning: 'bfs' not in \${PATH}"
        alias cf='cd $(find . -type d 2>/dev/null | fzf_cf_command || echo .)'
    fi
else
    echo "[ .zsh-alias:${LINENO} ]: Warning: 'fzf' not in \${PATH}"
    alias cf="echo \"[ .zsh-alias:${LINENO} ]: Warning: 'fzf' not in \\\${PATH}\""
fi

# Open file with xdg-open fzf style
if command -v fzf 1>/dev/null 2>&1; then
    alias o='xdg-open $(fzf --height=15) 1>/dev/null 2>&1'
fi

# Git alias
alias g='git'
